<form id="candidateForm" onsubmit="saveCandidate(event)">
    <div class="form-grid">
        <div class="form-group">
            <label class="form-label">×©× ××œ× *</label>
            <input type="text" class="form-input" id="fullName" required>
        </div>
        <div class="form-group">
            <label class="form-label">××™××™×™×œ *</label>
            <input type="email" class="form-input" id="email" required>
        </div>
        <div class="form-group">
            <label class="form-label">×˜×œ×¤×•×Ÿ *</label>
            <input type="tel" class="form-input" id="phone" required>
        </div>
        <div class="form-group">
            <label class="form-label">×’×™×œ</label>
            <input type="number" class="form-input" id="age" min="18" max="70">
        </div>
        <div class="form-group">
            <label class="form-label">×¢×™×¨</label>
            <select class="form-select" id="city">
                <option value="">×‘×—×¨ ×¢×™×¨</option>
                <option value="×ª×œ ××‘×™×‘">×ª×œ ××‘×™×‘</option>
                <option value="×™×¨×•×©×œ×™×">×™×¨×•×©×œ×™×</option>
                <option value="×—×™×¤×”">×—×™×¤×”</option>
                <option value="× ×ª× ×™×”">× ×ª× ×™×”</option>
                <option value="×‘××¨ ×©×‘×¢">×‘××¨ ×©×‘×¢</option>
                <option value="×¤×ª×— ×ª×§×•×•×”">×¤×ª×— ×ª×§×•×•×”</option>
            </select>
        </div>
        <div class="form-group">
            <label class="form-label">××©×¨×” ××‘×•×§×©×ª *</label>
            <input type="text" class="form-input" id="desiredPosition" required>
        </div>
        <div class="form-group">
            <label class="form-label">×¨××ª × ×™×¡×™×•×Ÿ</label>
            <select class="form-select" id="experienceLevel">
                <option value="">×‘×—×¨ ×¨××”</option>
                <option value="×–×•×˜×¨ (1-2 ×©× ×™×)">×–×•×˜×¨ (1-2 ×©× ×™×)</option>
                <option value="×‘×™× ×•× ×™ (3-5 ×©× ×™×)">×‘×™× ×•× ×™ (3-5 ×©× ×™×)</option>
                <option value="×‘×›×™×¨ (5+ ×©× ×™×)">×‘×›×™×¨ (5+ ×©× ×™×)</option>
                <option value="××•××—×” (10+ ×©× ×™×)">××•××—×” (10+ ×©× ×™×)</option>
            </select>
        </div>
        <div class="form-group">
            <label class="form-label">×©×›×¨ ××‘×•×§×© (â‚ª)</label>
            <input type="number" class="form-input" id="desiredSalary" min="0" step="1000">
        </div>
        <div class="form-group">
            <label class="form-label">×–××™× ×•×ª</label>
            <select class="form-select" id="availability">
                <option value="××™×™×“×™×ª">××™×™×“×™×ª</option>
                <option value="×©×‘×•×¢×™×™× ××¨××©">×©×‘×•×¢×™×™× ××¨××©</option>
                <option value="×—×•×“×© ××¨××©">×—×•×“×© ××¨××©</option>
                <option value="×œ×¤×™ ×ª×™××•×">×œ×¤×™ ×ª×™××•×</option>
            </select>
        </div>
        <div class="form-group">
            <label class="form-label">×©×œ×‘ ×‘×ª×”×œ×™×š</label>
            <select class="form-select" id="currentStage">
                <option value="screening">×¡×™× ×•×§ ×¨××©×•× ×™</option>
                <option value="×¨××™×•×Ÿ_×¨××©×•× ×™">×¨××™×•×Ÿ ×¨××©×•× ×™</option>
                <option value="×¨××™×•×Ÿ_×˜×›× ×™">×¨××™×•×Ÿ ×˜×›× ×™</option>
                <option value="×”×¦×¢×ª_×¢×‘×•×“×”">×”×¦×¢×ª ×¢×‘×•×“×”</option>
                <option value="×§×œ×™×˜×”">×§×œ×™×˜×”</option>
                <option value="× ×“×—×”">× ×“×—×”</option>
            </select>
        </div>
        <div class="form-group">
            <label class="form-label">×¡×˜×˜×•×¡</label>
            <select class="form-select" id="status">
                <option value="×¤×¢×™×œ">×¤×¢×™×œ</option>
                <option value="×œ× ×¤×¢×™×œ">×œ× ×¤×¢×™×œ</option>
            </select>
        </div>
        <div class="form-group">
            <label class="form-label">×¢×“×™×¤×•×ª</label>
            <select class="form-select" id="priority">
                <option value="× ××•×›×”">× ××•×›×”</option>
                <option value="×‘×™× ×•× ×™×ª">×‘×™× ×•× ×™×ª</option>
                <option value="×’×‘×•×”×”">×’×‘×•×”×”</option>
            </select>
        </div>
    </div>
    
    <div class="form-group">
        <label class="form-label">×›×™×©×•×¨×™× ×˜×›× ×™×™× (××•×¤×¨×“×™× ×‘×¤×¡×™×§)</label>
        <input type="text" class="form-input" id="skills" placeholder="JavaScript, React, Node.js, Python">
    </div>
    
    <div class="form-group">
        <label class="form-label">×”×¢×¨×•×ª</label>
        <textarea class="form-textarea" id="notes" placeholder="×”×¢×¨×•×ª × ×•×¡×¤×•×ª ×¢×œ ×”××•×¢××“..."></textarea>
    </div>
    
    <div class="modal-actions">
        <button type="button" class="btn btn-secondary" onclick="closeModal()">×‘×™×˜×•×œ</button>
        <button type="submit" class="btn btn-success">×©××•×¨</button>
    </div>
</form>
</div>
</div>

<!-- Notification -->
<div id="notification" class="notification"></div>

<script>
// Advanced Candidates Management System
class CandidatesManager {
constructor() {
    this.candidates = [];
    this.filteredCandidates = [];
    this.editingCandidateId = null;
    this.nextId = 1;
    this.init();
}

init() {
    this.loadSampleData();
    this.setupEventListeners();
    this.updateStatistics();
    this.renderCandidates();
}

setupEventListeners() {
    // Search functionality
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', this.debounce((e) => {
        this.searchCandidates(e.target.value);
    }, 300));

    // Form submission
    document.getElementById('candidateForm').addEventListener('submit', (e) => {
        this.saveCandidate(e);
    });

    // Close modal on backdrop click
    document.getElementById('candidateModal').addEventListener('click', (e) => {
        if (e.target.id === 'candidateModal') {
            this.closeModal();
        }
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            this.closeModal();
        }
        if (e.ctrlKey && e.key === 'n') {
            e.preventDefault();
            this.openAddModal();
        }
    });
}

loadSampleData() {
    this.candidates = [
        {
            id: 'CAN001',
            fullName: '×™×•×¡×™ ×›×”×Ÿ',
            email: 'yossi.cohen@gmail.com',
            phone: '050-1234567',
            age: 28,
            city: '×ª×œ ××‘×™×‘',
            desiredPosition: '××¤×ª×— Full Stack Senior',
            experienceLevel: '×‘×›×™×¨ (5+ ×©× ×™×)',
            desiredSalary: 25000,
            availability: '××™×™×“×™×ª',
            skills: ['JavaScript', 'Python', 'React', 'Node.js', 'AWS'],
            currentStage: '×¨××™×•×Ÿ_×˜×›× ×™',
            status: '×¤×¢×™×œ',
            priority: '×’×‘×•×”×”',
            notes: '××•×¢××“ ××¢×•×œ×” ×¢× × ×™×¡×™×•×Ÿ ×‘××¢×¨×›×•×ª enterprise',
            createdDate: '2025-07-10',
            lastUpdated: '2025-07-28',
            progress: 60
        },
        {
            id: 'CAN002',
            fullName: '××™×¨×™ ×©××™×¨',
            email: 'miri.shamir@gmail.com',
            phone: '050-9876543',
            age: 32,
            city: '×—×™×¤×”',
            desiredPosition: '×× ×”×œ×ª QA',
            experienceLevel: '×‘×›×™×¨×” (8+ ×©× ×™×)',
            desiredSalary: 28000,
            availability: '×—×•×“×© ××¨××©',
            skills: ['Java', 'Selenium', 'TestNG', 'Jenkins', 'Agile'],
            currentStage: '×”×¦×¢×ª_×¢×‘×•×“×”',
            status: '×¤×¢×™×œ',
            priority: '×’×‘×•×”×”',
            notes: '××•×¢××“×ª ××¢×•×œ×” ×¢× ×™×›×•×œ×•×ª × ×™×”×•×œ ××•×›×—×•×ª',
            createdDate: '2025-07-01',
            lastUpdated: '2025-07-28',
            progress: 85
        },
        {
            id: 'CAN003',
            fullName: '××‘×™ ×¨×•×–×Ÿ',
            email: 'avi.rosen@gmail.com',
            phone: '050-5555555',
            age: 25,
            city: '×™×¨×•×©×œ×™×',
            desiredPosition: '××¤×ª×— Backend',
            experienceLevel: '×–×•×˜×¨ (2-3 ×©× ×™×)',
            desiredSalary: 18000,
            availability: '××™×™×“×™×ª',
            skills: ['Java', 'Spring Boot', 'MySQL', 'Docker'],
            currentStage: '× ×“×—×”',
            status: '×œ× ×¤×¢×™×œ',
            priority: '× ××•×›×”',
            notes: '××•×¢××“ ×¦×¢×™×¨ ×¢× ×¤×•×˜× ×¦×™××œ ×œ×¢×ª×™×“',
            createdDate: '2025-07-08',
            lastUpdated: '2025-07-16',
            progress: 30
        },
        {
            id: 'CAN004',
            fullName: '×¨×™× ×” ×œ×•×™',
            email: 'rina.levi@gmail.com',
            phone: '050-2468135',
            age: 29,
            city: '× ×ª× ×™×”',
            desiredPosition: '××¢×¦×‘×ª UX/UI',
            experienceLevel: '×‘×›×™×¨×” (6+ ×©× ×™×)',
            desiredSalary: 23000,
            availability: '×©×‘×•×¢×™×™× ××¨××©',
            skills: ['Figma', 'Adobe XD', 'Sketch', 'User Research'],
            currentStage: '×¨××™×•×Ÿ_×¨××©×•× ×™',
            status: '×¤×¢×™×œ',
            priority: '×‘×™× ×•× ×™×ª',
            notes: '××¢×¦×‘×ª ××•×›×©×¨×ª ×¢× ×¤×•×¨×˜×¤×•×œ×™×• ×—×–×§',
            createdDate: '2025-07-22',
            lastUpdated: '2025-07-28',
            progress: 40
        }
    ];
    this.nextId = this.candidates.length + 1;
    this.filteredCandidates = [...this.candidates];
}

renderCandidates() {
    const container = document.getElementById('candidatesGrid');
    
    if (this.filteredCandidates.length === 0) {
        container.innerHTML = `
            <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: var(--surface-500);">
                <div style="font-size: 48px; margin-bottom: 16px;">ğŸ‘¤</div>
                <h3 style="font-size: 18px; margin-bottom: 8px;">×œ× × ××¦××• ××•×¢××“×™×</h3>
                <p>× ×¡×” ×œ×©× ×•×ª ××ª ×”×¤×™×œ×˜×¨×™× ××• ×œ×”×•×¡×™×£ ××•×¢××“×™× ×—×“×©×™×</p>
            </div>
        `;
        return;
    }

    container.innerHTML = this.filteredCandidates.map(candidate => {
        const stageProgress = this.getStageProgress(candidate.currentStage);
        const skillsDisplay = Array.isArray(candidate.skills) 
            ? candidate.skills.slice(0, 3).join(', ') + (candidate.skills.length > 3 ? '...' : '')
            : candidate.skills || '';

        return `
            <div class="candidate-card ${candidate.status === '×¤×¢×™×œ' ? 'active' : 'inactive'}" data-id="${candidate.id}">
                <div class="card-header">
                    <div>
                        <div class="candidate-name">${candidate.fullName}</div>
                        <div class="candidate-position">${candidate.desiredPosition}</div>
                    </div>
                    <div class="status-badge ${candidate.status === '×¤×¢×™×œ' ? 'status-active' : 'status-inactive'}">
                        ${candidate.status}
                    </div>
                </div>
                
                <div class="candidate-details">
                    <div class="detail-item">
                        <span class="detail-icon">ğŸ“§</span>
                        <span class="detail-label">××™××™×™×œ:</span>
                        <span class="detail-value">${candidate.email}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">ğŸ“</span>
                        <span class="detail-label">×˜×œ×¤×•×Ÿ:</span>
                        <span class="detail-value">${candidate.phone}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">ğŸ“</span>
                        <span class="detail-label">×¢×™×¨:</span>
                        <span class="detail-value">${candidate.city || '×œ× ×¦×•×™×Ÿ'}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">ğŸ’°</span>
                        <span class="detail-label">×©×›×¨:</span>
                        <span class="detail-value">${candidate.desiredSalary ? 'â‚ª' + candidate.desiredSalary.toLocaleString() : '×œ× ×¦×•×™×Ÿ'}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">â±ï¸</span>
                        <span class="detail-label">×–××™× ×•×ª:</span>
                        <span class="detail-value">${candidate.availability}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">ğŸ› ï¸</span>
                        <span class="detail-label">×›×™×©×•×¨×™×:</span>
                        <span class="detail-value">${skillsDisplay}</span>
                    </div>
                </div>
                
                <div class="stage-progress">
                    <div class="stage-title">×©×œ×‘ × ×•×›×—×™: ${this.translateStage(candidate.currentStage)}</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${stageProgress}%"></div>
                    </div>
                    <div class="stage-text">${stageProgress}% ×”×•×©×œ×</div>
                </div>
                
                <div class="card-actions">
                    <button class="btn btn-primary btn-small" onclick="candidatesManager.editCandidate('${candidate.id}')">
                        âœï¸ ×¢×¨×•×š
                    </button>
                    <button class="btn btn-secondary btn-small" onclick="candidatesManager.viewCandidate('${candidate.id}')">
                        ğŸ‘ï¸ ×¦×¤×”
                    </button>
                    <button class="btn btn-danger btn-small" onclick="candidatesManager.deleteCandidate('${candidate.id}')">
                        ğŸ—‘ï¸ ××—×§
                    </button>
                </div>
            </div>
        `;
    }).join('');

    // Add animation to new cards
    this.animateCards();
}

animateCards() {
    const cards = document.querySelectorAll('.candidate-card');
    cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
            card.style.transition = 'all 0.3s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
    });
}

updateStatistics() {
    const total = this.candidates.length;
    const active = this.candidates.filter(c => c.status === '×¤×¢×™×œ').length;
    const interview = this.candidates.filter(c => 
        c.currentStage.includes('×¨××™×•×Ÿ') && c.status === '×¤×¢×™×œ'
    ).length;
    const offer = this.candidates.filter(c => 
        c.currentStage === '×”×¦×¢×ª_×¢×‘×•×“×”' && c.status === '×¤×¢×™×œ'
    ).length;

    this.animateNumber(document.getElementById('totalCandidates'), total);
    this.animateNumber(document.getElementById('activeCandidates'), active);
    this.animateNumber(document.getElementById('interviewStage'), interview);
    this.animateNumber(document.getElementById('offerStage'), offer);
}

animateNumber(element, targetValue) {
    const startValue = parseInt(element.textContent) || 0;
    const duration = 1000;
    const startTime = performance.now();
    
    const animate = (currentTime) => {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        const easeOutCubic = 1 - Math.pow(1 - progress, 3);
        const current = Math.round(startValue + (targetValue - startValue) * easeOutCubic);
        
        element.textContent = current;
        
        if (progress < 1) {
            requestAnimationFrame(animate);
        }
    };
    
    requestAnimationFrame(animate);
}

getStageProgress(stage) {
    const stageMap = {
        'screening': 20,
        '×¨××™×•×Ÿ_×¨××©×•× ×™': 40,
        '×¨××™×•×Ÿ_×˜×›× ×™': 60,
        '×”×¦×¢×ª_×¢×‘×•×“×”': 80,
        '×§×œ×™×˜×”': 100,
        '× ×“×—×”': 0
    };
    return stageMap[stage] || 0;
}

translateStage(stage) {
    const stageMap = {
        'screening': '×¡×™× ×•×§ ×¨××©×•× ×™',
        '×¨××™×•×Ÿ_×¨××©×•× ×™': '×¨××™×•×Ÿ ×¨××©×•× ×™',
        '×¨××™×•×Ÿ_×˜×›× ×™': '×¨××™×•×Ÿ ×˜×›× ×™',
        '×”×¦×¢×ª_×¢×‘×•×“×”': '×”×¦×¢×ª ×¢×‘×•×“×”',
        '×§×œ×™×˜×”': '×§×œ×™×˜×”',
        '× ×“×—×”': '× ×“×—×”'
    };
    return stageMap[stage] || stage;
}

searchCandidates(query) {
    if (!query.trim()) {
        this.filteredCandidates = [...this.candidates];
    } else {
        const searchTerm = query.toLowerCase();
        this.filteredCandidates = this.candidates.filter(candidate => 
            candidate.fullName.toLowerCase().includes(searchTerm) ||
            candidate.email.toLowerCase().includes(searchTerm) ||
            candidate.desiredPosition.toLowerCase().includes(searchTerm) ||
            (Array.isArray(candidate.skills) && 
             candidate.skills.some(skill => skill.toLowerCase().includes(searchTerm))) ||
            (candidate.city && candidate.city.toLowerCase().includes(searchTerm))
        );
    }
    this.renderCandidates();
}

applyFilters() {
    const statusFilter = document.getElementById('statusFilter').value;
    const stageFilter = document.getElementById('stageFilter').value;
    const experienceFilter = document.getElementById('experienceFilter').value;
    const cityFilter = document.getElementById('cityFilter').value;

    this.filteredCandidates = this.candidates.filter(candidate => {
        const statusMatch = !statusFilter || candidate.status === statusFilter;
        const stageMatch = !stageFilter || candidate.currentStage === stageFilter;
        const experienceMatch = !experienceFilter || 
            candidate.experienceLevel.includes(experienceFilter);
        const cityMatch = !cityFilter || candidate.city === cityFilter;

        return statusMatch && stageMatch && experienceMatch && cityMatch;
    });

    this.renderCandidates();
}

openAddModal() {
    this.editingCandidateId = null;
    document.getElementById('modalTitle').textContent = '×”×•×¡×£ ××•×¢××“ ×—×“×©';
    this.clearForm();
    this.showModal();
}

editCandidate(id) {
    const candidate = this.candidates.find(c => c.id === id);
    if (!candidate) return;

    this.editingCandidateId = id;
    document.getElementById('modalTitle').textContent = '×¢×¨×•×š ××•×¢××“';
    this.populateForm(candidate);
    this.showModal();
}

viewCandidate(id) {
    const candidate = this.candidates.find(c => c.id === id);
    if (!candidate) return;

    this.showNotification('info', `×¦×•×¤×” ×‘××•×¢××“: ${candidate.fullName}`);
    // Here you could open a detailed view modal
}

deleteCandidate(id) {
    if (confirm('×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××—×•×§ ××•×¢××“ ×–×”?')) {
        this.candidates = this.candidates.filter(c => c.id !== id);
        this.filteredCandidates = this.filteredCandidates.filter(c => c.id !== id);
        this.renderCandidates();
        this.updateStatistics();
        this.showNotification('success', '××•×¢××“ × ××—×§ ×‘×”×¦×œ×—×”');
    }
}

saveCandidate(event) {
    event.preventDefault();
    
    const formData = new FormData(event.target);
    const candidateData = {
        fullName: document.getElementById('fullName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        age: parseInt(document.getElementById('age').value) || null,
        city: document.getElementById('city').value,
        desiredPosition: document.getElementById('desiredPosition').value,
        experienceLevel: document.getElementById('experienceLevel').value,
        desiredSalary: parseInt(document.getElementById('desiredSalary').value) || null,
        availability: document.getElementById('availability').value,
        currentStage: document.getElementById('currentStage').value,
        status: document.getElementById('status').value,
        priority: document.getElementById('priority').value,
        skills: document.getElementById('skills').value.split(',').map(s => s.trim()).filter(s => s),
        notes: document.getElementById('notes').value,
        lastUpdated: new Date().toISOString().split('T')[0]
    };

    if (this.editingCandidateId) {
        // Update existing candidate
        const index = this.candidates.findIndex(c => c.id === this.editingCandidateId);
        if (index !== -1) {
            this.candidates[index] = { ...this.candidates[index], ...candidateData };
            this.showNotification('success', '××•×¢××“ ×¢×•×“×›×Ÿ ×‘×”×¦×œ×—×”');
        }
    } else {
        // Add new candidate
        const newCandidate = {
            id: `CAN${String(this.nextId++).padStart(3, '0')}`,
            ...candidateData,
            createdDate: new Date().toISOString().split('T')[0],
            progress: this.getStageProgress(candidateData.currentStage)
        };
        this.candidates.push(newCandidate);
        this.showNotification('success', '××•×¢××“ ×—×“×© × ×•×¡×£ ×‘×”×¦×œ×—×”');
    }

    this.closeModal();
    this.applyFilters(); // Re-apply current filters
    this.updateStatistics();
}

populateForm(candidate) {
    document.getElementById('fullName').value = candidate.fullName || '';
    document.getElementById('email').value = candidate.email || '';
    document.getElementById('phone').value = candidate.phone || '';
    document.getElementById('age').value = candidate.age || '';
    document.getElementById('city').value = candidate.city || '';
    document.getElementById('desiredPosition').value = candidate.desiredPosition || '';
    document.getElementById('experienceLevel').value = candidate.experienceLevel || '';
    document.getElementById('desiredSalary').value = candidate.desiredSalary || '';
    document.getElementById('availability').value = candidate.availability || '××™×™×“×™×ª';
    document.getElementById('currentStage').value = candidate.currentStage || 'screening';
    document.getElementById('status').value = candidate.status || '×¤×¢×™×œ';
    document.getElementById('priority').value = candidate.priority || '×‘×™× ×•× ×™×ª';
    document.getElementById('skills').value = Array.isArray(candidate.skills) 
        ? candidate.skills.join(', ') 
        : candidate.skills || '';
    document.getElementById('notes').value = candidate.notes || '';
}

clearForm() {
    document.getElementById('candidateForm').reset();
    document.getElementById('availability').value = '××™×™×“×™×ª';
    document.getElementById('currentStage').value = 'screening';
    document.getElementById('status').value = '×¤×¢×™×œ';
    document.getElementById('priority').value = '×‘×™× ×•× ×™×ª';
}

showModal() {
    const modal = document.getElementById('candidateModal');
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
    
    // Focus first input
    setTimeout(() => {
        document.getElementById('fullName').focus();
    }, 100);
}

closeModal() {
    const modal = document.getElementById('candidateModal');
    modal.classList.remove('show');
    document.body.style.overflow = '';
    this.editingCandidateId = null;
}

showNotification(type, message) {
    const notification = document.getElementById('notification');
    notification.className = `notification ${type}`;
    notification.textContent = message;
    notification.classList.add('show');

    setTimeout(() => {
        notification.classList.remove('show');
    }, 3000);
}

exportData() {
    const dataStr = JSON.stringify(this.candidates, null, 2);
    const dataBlob = new Blob([dataStr], {type: 'application/json'});
    const url = URL.createObjectURL(dataBlob);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'candidates_export.json';
    link.click();
    URL.revokeObjectURL(url);
    
    this.showNotification('success', '× ×ª×•× ×™× ×™×•×¦××• ×‘×”×¦×œ×—×”');
}

debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}
}

// Initialize the system
const candidatesManager = new CandidatesManager();

// Global functions for HTML onclick events
function openAddModal() {
candidatesManager.openAddModal();
}

function closeModal() {
candidatesManager.closeModal();
}

function saveCandidate(event) {
candidatesManager.saveCandidate(event);
}

function applyFilters() {
candidatesManager.applyFilters();
}

function exportData() {
candidatesManager.exportData();
}

function loadSampleData() {
candidatesManager.loadSampleData();
candidatesManager.applyFilters();
candidatesManager.updateStatistics();
candidatesManager.showNotification('info', '× ×ª×•× ×™ ×“××• × ×˜×¢× ×• ×‘×”×¦×œ×—×”');
}

// Welcome message
console.log(`
ğŸš€ ××¢×¨×›×ª × ×™×”×•×œ ××•×¢××“×™× ××ª×§×“××ª!

×§×™×¦×•×¨×™ ××§×œ×“×ª:
Ctrl + N = ××•×¢××“ ×—×“×©
Escape = ×¡×’×•×¨ ×—×œ×•×Ÿ

×ª×›×•× ×•×ª:
âœ… ×—×™×¤×•×© ××ª×§×“×
âœ… ×¡×™× ×•×Ÿ ×“×™× ××™
âœ… ×¢×¨×™×›×” ××œ××”
âœ… ×™×™×¦×•× × ×ª×•× ×™×
âœ… ×× ×™××¦×™×•×ª ×—×œ×§×•×ª
âœ… ×¢×™×¦×•×‘ ××•×“×¨× ×™

×”××¢×¨×›×ª ××•×›× ×” ×œ×©×™××•×©! ğŸ¯
`);
</script>
</body>
</html></label<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ‘¤ × ×™×”×•×œ ××•×¢××“×™× - ProRecruitment</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
--primary-50: #f0f4ff;
--primary-500: #6366f1;
--primary-600: #4f46e5;
--primary-700: #4338ca;
--success: #10b981;
--warning: #f59e0b;
--error: #ef4444;
--info: #3b82f6;
--surface-00: #ffffff;
--surface-50: #f5f5f5;
--surface-100: #eeeeee;
--surface-500: #757575;
--surface-600: #616161;
--surface-700: #424242;
--surface-900: #1a1a1a;
--font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
--radius-sm: 8px;
--radius-md: 12px;
--radius-lg: 16px;
--radius-xl: 24px;
--radius-full: 9999px;
--shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
--transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
--transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: var(--font-family);
background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
background-size: 400% 400%;
animation: gradientShift 15s ease infinite;
min-height: 100vh;
direction: rtl;
color: var(--surface-900);
-webkit-font-smoothing: antialiased;
}

@keyframes gradientShift {
0% { background-position: 0% 50%; }
50% { background-position: 100% 50%; }
100% { background-position: 0% 50%; }
}

.container {
max-width: 1400px;
margin: 0 auto;
padding: 24px;
}

.header {
background: rgba(255, 255, 255, 0.25);
backdrop-filter: blur(20px) saturate(180%);
border: 1px solid rgba(255, 255, 255, 0.2);
border-radius: var(--radius-xl);
padding: 32px;
margin-bottom: 24px;
text-align: center;
box-shadow: var(--shadow-xl);
}

.header h1 {
font-size: 2.5rem;
font-weight: 800;
background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
margin-bottom: 8px;
letter-spacing: -0.025em;
}

.header p {
font-size: 1.125rem;
color: var(--surface-600);
font-weight: 500;
}

.toolbar {
background: rgba(255, 255, 255, 0.7);
backdrop-filter: blur(20px) saturate(180%);
border: 1px solid rgba(255, 255, 255, 0.3);
border-radius: var(--radius-xl);
padding: 24px;
margin-bottom: 24px;
box-shadow: var(--shadow-lg);
}

.toolbar-row {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 16px;
flex-wrap: wrap;
gap: 16px;
}

.search-container {
display: flex;
align-items: center;
background: rgba(255, 255, 255, 0.5);
backdrop-filter: blur(10px);
border: 1px solid rgba(255, 255, 255, 0.3);
border-radius: var(--radius-full);
padding: 12px 20px;
min-width: 400px;
transition: all var(--transition-normal);
}

.search-container:focus-within {
background: rgba(255, 255, 255, 0.7);
border-color: var(--primary-500);
box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
}

.search-input {
background: none;
border: none;
outline: none;
flex: 1;
font-size: 14px;
color: var(--surface-900);
font-family: inherit;
}

.search-input::placeholder {
color: var(--surface-500);
}

.search-icon {
color: var(--surface-500);
font-size: 16px;
margin-left: 12px;
}

.btn {
display: inline-flex;
align-items: center;
justify-content: center;
gap: 8px;
padding: 12px 20px;
border: none;
border-radius: var(--radius-lg);
font-family: inherit;
font-size: 14px;
font-weight: 600;
text-decoration: none;
cursor: pointer;
transition: all var(--transition-fast);
white-space: nowrap;
}

.btn-primary {
background: linear-gradient(135deg, var(--primary-500), var(--primary-700));
color: white;
box-shadow: var(--shadow-md);
}

.btn-primary:hover {
transform: translateY(-2px);
box-shadow: var(--shadow-xl);
}

.btn-success {
background: linear-gradient(135deg, var(--success), #059669);
color: white;
box-shadow: var(--shadow-md);
}

.btn-success:hover {
transform: translateY(-2px);
box-shadow: var(--shadow-xl);
}

.btn-warning {
background: linear-gradient(135deg, var(--warning), #d97706);
color: white;
box-shadow: var(--shadow-md);
}

.btn-danger {
background: linear-gradient(135deg, var(--error), #dc2626);
color: white;
box-shadow: var(--shadow-md);
}

.btn-secondary {
background: rgba(255, 255, 255, 0.5);
backdrop-filter: blur(10px);
border: 1px solid rgba(255, 255, 255, 0.3);
color: var(--surface-900);
}

.btn-secondary:hover {
background: rgba(255, 255, 255, 0.7);
transform: translateY(-2px);
}

.filters-row {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 16px;
}

.filter-group {
display: flex;
flex-direction: column;
gap: 6px;
}

.filter-label {
font-weight: 600;
color: var(--surface-700);
font-size: 14px;
}

.filter-select {
padding: 10px 12px;
border: 1px solid rgba(255, 255, 255, 0.3);
border-radius: var(--radius-md);
background: rgba(255, 255, 255, 0.5);
backdrop-filter: blur(10px);
font-size: 14px;
transition: all var(--transition-fast);
}

.filter-select:focus {
outline: none;
border-color: var(--primary-500);
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.stats-bar {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
gap: 16px;
margin-bottom: 24px;
}

.stat-item {
background: rgba(255, 255, 255, 0.6);
backdrop-filter: blur(20px) saturate(180%);
border: 1px solid rgba(255, 255, 255, 0.3);
border-radius: var(--radius-xl);
padding: 20px;
text-align: center;
box-shadow: var(--shadow-lg);
transition: all var(--transition-normal);
}

.stat-item:hover {
transform: translateY(-4px);
box-shadow: var(--shadow-xl);
}

.stat-number {
font-size: 2rem;
font-weight: 800;
color: var(--primary-600);
line-height: 1;
margin-bottom: 8px;
}

.stat-label {
font-size: 14px;
color: var(--surface-600);
font-weight: 500;
}

.candidates-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
gap: 24px;
margin-bottom: 32px;
}

.candidate-card {
background: rgba(255, 255, 255, 0.7);
backdrop-filter: blur(20px) saturate(180%);
border: 1px solid rgba(255, 255, 255, 0.3);
border-radius: var(--radius-xl);
padding: 24px;
box-shadow: var(--shadow-lg);
transition: all var(--transition-normal);
position: relative;
overflow: hidden;
}

.candidate-card::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
height: 4px;
background: linear-gradient(135deg, var(--primary-500), var(--primary-700));
}

.candidate-card.active::before {
background: linear-gradient(135deg, var(--success), #059669);
}

.candidate-card.inactive::before {
background: linear-gradient(135deg, var(--error), #dc2626);
}

.candidate-card:hover {
transform: translateY(-6px);
box-shadow: var(--shadow-xl);
}

.card-header {
display: flex;
justify-content: space-between;
align-items: flex-start;
margin-bottom: 16px;
}

.candidate-name {
font-size: 1.25rem;
font-weight: 700;
color: var(--surface-900);
margin-bottom: 4px;
letter-spacing: -0.025em;
}

.candidate-position {
color: var(--surface-600);
font-size: 14px;
font-weight: 500;
}

.status-badge {
padding: 6px 12px;
border-radius: var(--radius-full);
font-size: 12px;
font-weight: 600;
text-transform: uppercase;
letter-spacing: 0.05em;
}

.status-active {
background: rgba(16, 185, 129, 0.2);
color: var(--success);
border: 1px solid rgba(16, 185, 129, 0.3);
}

.status-inactive {
background: rgba(239, 68, 68, 0.2);
color: var(--error);
border: 1px solid rgba(239, 68, 68, 0.3);
}

.candidate-details {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 12px;
margin-bottom: 16px;
}

.detail-item {
display: flex;
align-items: center;
gap: 8px;
font-size: 13px;
}

.detail-icon {
font-size: 14px;
min-width: 16px;
}

.detail-label {
font-weight: 500;
color: var(--surface-600);
}

.detail-value {
color: var(--surface-900);
font-weight: 500;
}

.stage-progress {
margin: 16px 0;
}

.stage-title {
font-weight: 600;
margin-bottom: 8px;
color: var(--surface-700);
font-size: 14px;
}

.progress-bar {
background: rgba(0, 0, 0, 0.1);
border-radius: var(--radius-full);
height: 6px;
overflow: hidden;
margin-bottom: 8px;
}

.progress-fill {
height: 100%;
background: linear-gradient(135deg, var(--primary-500), var(--primary-700));
border-radius: var(--radius-full);
transition: width var(--transition-normal);
}

.stage-text {
font-size: 12px;
color: var(--surface-500);
font-weight: 500;
}

.card-actions {
display: flex;
gap: 8px;
margin-top: 16px;
}

.btn-small {
padding: 8px 12px;
font-size: 12px;
flex: 1;
}

.modal {
display: none;
position: fixed;
z-index: 1000;
left: 0;
top: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.5);
backdrop-filter: blur(8px);
}

.modal.show {
display: flex;
align-items: center;
justify-content: center;
}

.modal-content {
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(20px) saturate(180%);
border: 1px solid rgba(255, 255, 255, 0.3);
margin: auto;
padding: 32px;
border-radius: var(--radius-xl);
width: 90%;
max-width: 600px;
max-height: 90vh;
overflow-y: auto;
box-shadow: var(--shadow-xl);
transform: translateY(-20px);
opacity: 0;
transition: all var(--transition-normal);
}

.modal.show .modal-content {
transform: translateY(0);
opacity: 1;
}

.modal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 24px;
padding-bottom: 16px;
border-bottom: 2px solid rgba(0, 0, 0, 0.1);
}

.modal-title {
font-size: 1.5rem;
font-weight: 700;
color: var(--surface-900);
letter-spacing: -0.025em;
}

.close {
background: none;
border: none;
font-size: 24px;
cursor: pointer;
color: var(--surface-500);
padding: 4px;
border-radius: var(--radius-md);
transition: all var(--transition-fast);
}

.close:hover {
background: rgba(0, 0, 0, 0.1);
color: var(--surface-700);
}

.form-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
margin-bottom: 20px;
}

.form-group {
display: flex;
flex-direction: column;
gap: 8px;
}

.form-label {
font-weight: 600;
color: var(--surface-700);
font-size: 14px;
}

.form-input, .form-select, .form-textarea {
padding: 12px;
border: 1px solid rgba(0, 0, 0, 0.2);
border-radius: var(--radius-md);
font-size: 14px;
font-family: inherit;
transition: all var(--transition-fast);
background: rgba(255, 255, 255, 0.7);
backdrop-filter: blur(10px);
}

.form-input:focus, .form-select:focus, .form-textarea:focus {
outline: none;
border-color: var(--primary-500);
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.form-textarea {
resize: vertical;
min-height: 80px;
}

.modal-actions {
display: flex;
gap: 12px;
justify-content: flex-end;
margin-top: 24px;
padding-top: 20px;
border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.notification {
position: fixed;
top: 24px;
left: 24px;
padding: 16px 24px;
border-radius: var(--radius-lg);
color: white;
font-weight: 600;
z-index: 2000;
opacity: 0;
transform: translateX(-400px);
transition: all var(--transition-normal);
box-shadow: var(--shadow-xl);
backdrop-filter: blur(20px);
}

.notification.show {
opacity: 1;
transform: translateX(0);
}

.notification.success {
background: linear-gradient(135deg, var(--success), #059669);
}

.notification.error {
background: linear-gradient(135deg, var(--error), #dc2626);
}

.notification.info {
background: linear-gradient(135deg, var(--info), #1d4ed8);
}

@media (max-width: 768px) {
.candidates-grid {
    grid-template-columns: 1fr;
}

.toolbar-row {
    flex-direction: column;
    align-items: stretch;
}

.search-container {
    min-width: auto;
}

.filters-row {
    grid-template-columns: 1fr;
}

.form-grid {
    grid-template-columns: 1fr;
}

.candidate-details {
    grid-template-columns: 1fr;
}
}

@keyframes slideInUp {
from {
    opacity: 0;
    transform: translateY(30px);
}
to {
    opacity: 1;
    transform: translateY(0);
}
}

.slide-in-up {
animation: slideInUp 0.6s ease-out;
}
</style>
</head>
<body>
<div class="container">
<!-- Header -->
<div class="header slide-in-up">
<h1>ğŸ‘¤ × ×™×”×•×œ ××•×¢××“×™× ××ª×§×“×</h1>
<p>××¢×¨×›×ª CRUD ××œ××” ×œ× ×™×”×•×œ ××•×¢××“×™× ×¢× ×—×™×¤×•×©, ×¡×™× ×•×Ÿ ×•×¢×¨×™×›×”</p>
</div>

<!-- Toolbar -->
<div class="toolbar slide-in-up">
<div class="toolbar-row">
    <div class="search-container">
        <span class="search-icon">ğŸ”</span>
        <input type="text" class="search-input" id="searchInput" placeholder="×—×¤×© ××•×¢××“ ×œ×¤×™ ×©×, ××©×¨×” ××• ×›×™×©×•×¨×™×...">
    </div>
    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
        <button class="btn btn-success" onclick="openAddModal()">â• ×”×•×¡×£ ××•×¢××“</button>
        <button class="btn btn-warning" onclick="exportData()">ğŸ“¤ ×™×™×¦× × ×ª×•× ×™×</button>
        <button class="btn btn-secondary" onclick="loadSampleData()">ğŸ“Š ×˜×¢×Ÿ × ×ª×•× ×™ ×“××•</button>
    </div>
</div>

<div class="filters-row">
    <div class="filter-group">
        <label class="filter-label">×¡×˜×˜×•×¡</label>
        <select class="filter-select" id="statusFilter" onchange="applyFilters()">
            <option value="">×›×œ ×”×¡×˜×˜×•×¡×™×</option>
            <option value="×¤×¢×™×œ">×¤×¢×™×œ</option>
            <option value="×œ× ×¤×¢×™×œ">×œ× ×¤×¢×™×œ</option>
        </select>
    </div>
    <div class="filter-group">
        <label class="filter-label">×©×œ×‘ ×‘×ª×”×œ×™×š</label>
        <select class="filter-select" id="stageFilter" onchange="applyFilters()">
            <option value="">×›×œ ×”×©×œ×‘×™×</option>
            <option value="×¨××™×•×Ÿ_×¨××©×•× ×™">×¨××™×•×Ÿ ×¨××©×•× ×™</option>
            <option value="×¨××™×•×Ÿ_×˜×›× ×™">×¨××™×•×Ÿ ×˜×›× ×™</option>
            <option value="×”×¦×¢×ª_×¢×‘×•×“×”">×”×¦×¢×ª ×¢×‘×•×“×”</option>
            <option value="× ×“×—×”">× ×“×—×”</option>
        </select>
    </div>
    <div class="filter-group">
        <label class="filter-label">×¨××ª × ×™×¡×™×•×Ÿ</label>
        <select class="filter-select" id="experienceFilter" onchange="applyFilters()">
            <option value="">×›×œ ×”×¨××•×ª</option>
            <option value="×–×•×˜×¨">×–×•×˜×¨</option>
            <option value="×‘×™× ×•× ×™">×‘×™× ×•× ×™</option>
            <option value="×‘×›×™×¨">×‘×›×™×¨</option>
        </select>
    </div>
    <div class="filter-group">
        <label class="filter-label">×¢×™×¨</label>
        <select class="filter-select" id="cityFilter" onchange="applyFilters()">
            <option value="">×›×œ ×”×¢×¨×™×</option>
            <option value="×ª×œ ××‘×™×‘">×ª×œ ××‘×™×‘</option>
            <option value="×™×¨×•×©×œ×™×">×™×¨×•×©×œ×™×</option>
            <option value="×—×™×¤×”">×—×™×¤×”</option>
            <option value="× ×ª× ×™×”">× ×ª× ×™×”</option>
        </select>
    </div>
</div>
</div>

<!-- Statistics -->
<div class="stats-bar slide-in-up">
<div class="stat-item">
    <div class="stat-number" id="totalCandidates">0</div>
    <div class="stat-label">×¡×”"×› ××•×¢××“×™×</div>
</div>
<div class="stat-item">
    <div class="stat-number" id="activeCandidates">0</div>
    <div class="stat-label">××•×¢××“×™× ×¤×¢×™×œ×™×</div>
</div>
<div class="stat-item">
    <div class="stat-number" id="interviewStage">0</div>
    <div class="stat-label">×‘×©×œ×‘ ×¨××™×•×Ÿ</div>
</div>
<div class="stat-item">
    <div class="stat-number" id="offerStage">0</div>
    <div class="stat-label">×‘×©×œ×‘ ×”×¦×¢×”</div>
</div>
</div>

<!-- Candidates Grid -->
<div class="candidates-grid slide-in-up" id="candidatesGrid">
<!-- Candidates will be populated here -->
</div>
</div>

<!-- Add/Edit Modal -->
<div id="candidateModal" class="modal">
<div class="modal-content">
<div class="modal-header">
    <h2 class="modal-title" id="modalTitle">×”×•×¡×£ ××•×¢××“ ×—×“×©</h2>
    <button class="close" onclick="closeModal()">&times;</button>
</div>

<form id="candidateForm" onsubmit="saveCandida